<section class="main-details" *ngIf="book">

    <div class="details-img">
        <img [src]="book.img" alt="" class="book-img">
    </div>




    <div class="details-info">
        <h1>{{book?.title}}</h1>
        <p>Author: {{book.author}}</p>
        <p>Genre: {{book.genre}}</p>
        <p>Price: {{book.price}}$</p>
        <p>Description: {{book?.description}}</p>

        <ng-container *ngIf="!isOwner">
            <p>Likes: {{likes}}</p>

            <section *ngIf="isLoggedIn" class="like-buy-btn">
                <div class="like-functionality">
                    <div *ngIf="isLoggedIn">
                        <ng-container *ngIf="canLike">
                            <button class="edit-delete-btns" (click)="likeBook()">Like</button>
                        </ng-container>

                        <ng-container *ngIf="!canLike">
                            <button disabled [class.canLike]="!canLike" class="edit-delete-btns"
                                (click)="likeBook()">Already liked</button>
                        </ng-container>
                    </div>
                </div>

                <div class="buy-functionality">
                    <ng-container *ngIf="canBuy">
                        <button class="edit-delete-btns" (click)="buyBook()">Buy</button>
                    </ng-container>

                    <ng-container *ngIf="!canBuy">
                        <button disabled [class.canBuy]="!canBuy" class="edit-delete-btns" (click)="buyBook()">Already
                            purchased</button>
                    </ng-container>
                </div>
            </section>


            <div *ngIf="!isLoggedIn">
                <button class="edit-delete-btns" routerLink="/login">Like</button>
                <button class="edit-delete-btns" routerLink="/login">Buy</button>
            </div>
        </ng-container>

        <ng-container *ngIf="isOwner">
            <div class="edit-delete-btns-main">
                <a class="edit-delete-btns" [routerLink]="['/edit', book._id]">Edit</a>
                <a class="edit-delete-btns" (click)="deleteBook()">Delete</a>
            </div>
        </ng-container>
    </div>
</section>

<section *ngIf="!book">
    Loading...
</section>