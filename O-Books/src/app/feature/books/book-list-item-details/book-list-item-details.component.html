<section class="main-details" *ngIf="book">

    <div class="details-img">
        <img [src]="book.img" alt="" class="book-img">
    </div>




    <div class="details-info">
        <h1>{{book?.title}}</h1>
        <p>Author: {{book.author}}</p>
        <p>Genre: {{book.genre}}</p>
        <p>Price: {{book.price}}$</p>
        <p>Description: {{book?.description}}</p>

        <ng-container *ngIf="!isOwner">
            <div *ngIf="isLoggedIn">
                <p>Likes: {{likes}}</p>
                <ng-container *ngIf="canLike">
                    <button class="edit-delete-btns" (click)="likeBook()">Like</button>
                </ng-container>
                
                <ng-container *ngIf="!canLike">
                    <button disabled [class.canLike]="!canLike" class="edit-delete-btns" (click)="likeBook()">Already liked</button>
                </ng-container>
            </div>

            <div *ngIf="!isLoggedIn">
                <button class="edit-delete-btns" routerLink="/login">Like</button>
            </div>
        </ng-container>

        <ng-container *ngIf="isOwner">
            <div class="edit-delete-btns-main">
                <a class="edit-delete-btns" [routerLink]="['/edit', book._id]">Edit</a>
                <a class="edit-delete-btns" (click)="deleteBook()">Delete</a>
            </div>
        </ng-container>
    </div>
</section>

<section *ngIf="!book">
    Loading...
</section>